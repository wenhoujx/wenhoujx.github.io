import{s as K,n as P,o as L,d as R}from"../chunks/scheduler.DHKgWpgq.js";import{S as Q,i as Y,e as X,s as D,c as N,j as C,l as V,d as m,g as y,b as O,a as I,m as p,o as F,p as G,h as A,k as B,n as H,q as T}from"../chunks/index.BPx2a9XK.js";function E(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function z(a,t,i){const e=a.slice();return e[10]=t[i],e[12]=i,e}function M(a,t,i){const e=a.slice();return e[13]=t[i],e[15]=i,e}function U(a){let t,i,e,l;return{c(){t=X("div"),i=A(a[1]),e=A(" wins!"),this.h()},l(n){t=N(n,"DIV",{class:!0});var s=C(t);i=B(s,a[1]),e=B(s," wins!"),s.forEach(m),this.h()},h(){O(t,"class",l="winner "+(a[1]=="X"?"X":"O")+" svelte-92487b")},m(n,s){I(n,t,s),p(t,i),p(t,e)},p(n,s){s&2&&H(i,n[1]),s&2&&l!==(l="winner "+(n[1]=="X"?"X":"O")+" svelte-92487b")&&O(t,"class",l)},d(n){n&&m(t)}}}function W(a){let t,i,e=a[13]+"",l,n,s,_,g;function r(){return a[4](a[12],a[15])}return{c(){t=X("div"),i=X("div"),l=A(e),s=D(),this.h()},l(u){t=N(u,"DIV",{class:!0});var f=C(t);i=N(f,"DIV",{class:!0});var h=C(i);l=B(h,e),h.forEach(m),s=V(f),f.forEach(m),this.h()},h(){O(i,"class",n=R(a[13])+" svelte-92487b"),O(t,"class","cell svelte-92487b")},m(u,f){I(u,t,f),p(t,i),p(i,l),p(t,s),_||(g=F(t,"click",r),_=!0)},p(u,f){a=u,f&1&&e!==(e=a[13]+"")&&H(l,e),f&1&&n!==(n=R(a[13])+" svelte-92487b")&&O(i,"class",n)},d(u){u&&m(t),_=!1,g()}}}function Z(a){let t,i=E(a[10]),e=[];for(let l=0;l<i.length;l+=1)e[l]=W(M(a,i,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=T()},l(l){for(let n=0;n<e.length;n+=1)e[n].l(l);t=T()},m(l,n){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(l,n);I(l,t,n)},p(l,n){if(n&5){i=E(l[10]);let s;for(s=0;s<i.length;s+=1){const _=M(l,i,s);e[s]?e[s].p(_,n):(e[s]=W(_),e[s].c(),e[s].m(t.parentNode,t))}for(;s<e.length;s+=1)e[s].d(1);e.length=i.length}},d(l){l&&m(t),G(e,l)}}}function w(a){let t,i,e,l,n,s="Rollback",_,g,r=a[1]&&U(a),u=E(a[0]),f=[];for(let h=0;h<u.length;h+=1)f[h]=Z(z(a,u,h));return{c(){t=X("div"),r&&r.c(),i=D(),e=X("div");for(let h=0;h<f.length;h+=1)f[h].c();l=D(),n=X("button"),n.textContent=s,this.h()},l(h){t=N(h,"DIV",{});var o=C(t);r&&r.l(o),i=V(o),e=N(o,"DIV",{class:!0});var c=C(e);for(let d=0;d<f.length;d+=1)f[d].l(c);c.forEach(m),l=V(o),n=N(o,"BUTTON",{class:!0,"data-svelte-h":!0}),y(n)!=="svelte-8j5d6g"&&(n.textContent=s),o.forEach(m),this.h()},h(){O(e,"class","board svelte-92487b"),O(n,"class","svelte-92487b")},m(h,o){I(h,t,o),r&&r.m(t,null),p(t,i),p(t,e);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null);p(t,l),p(t,n),_||(g=F(n,"click",a[3]),_=!0)},p(h,[o]){if(h[1]?r?r.p(h,o):(r=U(h),r.c(),r.m(t,i)):r&&(r.d(1),r=null),o&5){u=E(h[0]);let c;for(c=0;c<u.length;c+=1){const d=z(h,u,c);f[c]?f[c].p(d,o):(f[c]=Z(d),f[c].c(),f[c].m(e,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=u.length}},i:P,o:P,d(h){h&&m(t),r&&r.d(),G(f,h),_=!1,g()}}}const S=25;function $(a,t,i){let e=[],l=[],n="X",s=null;function _(){i(0,e=Array(S).fill().map(()=>Array(S).fill(" ")))}function g(o,c){e[o][c]===" "&&!s&&(i(0,e[o][c]=n,e),l.push(JSON.parse(JSON.stringify(e))),u(o,c,n)&&i(1,s=n),n=n==="X"?"O":"X")}function r(){l.length>1&&(l.pop(),i(0,e=JSON.parse(JSON.stringify(l[l.length-1]))),i(1,s=null),n=n==="X"?"O":"X")}function u(o,c,d){return f(o,c,1,0,d)||f(o,c,0,1,d)||f(o,c,1,1,d)||f(o,c,1,-1,d)}function f(o,c,d,j,q){let J=1;for(let v=1;v<5;v++){const b=o+v*d,k=c+v*j;if(b<0||b>=S||k<0||k>=S||e[b][k]!==q)break;J++}for(let v=1;v<5;v++){const b=o-v*d,k=c-v*j;if(b<0||b>=S||k<0||k>=S||e[b][k]!==q)break;J++}return J>=5}return L(()=>{_(),l.push(JSON.parse(JSON.stringify(e)))}),[e,s,g,r,(o,c)=>g(o,c)]}class te extends Q{constructor(t){super(),Y(this,t,$,w,K,{})}}export{te as component};
